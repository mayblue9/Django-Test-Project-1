<head>
	<!-- Javascript -->
	<script src="{{ STATIC_URL }}js/d3/d3.js" type='text/javascript'></script>
	<script src="{{ STATIC_URL }}js/d3/d3.layout.js" type='text/javascript'> </script>
	<script src="{{ STATIC_URL }}js/jquery-ui-1.8.17.custom/js/jquery-1.7.1.min.js" type='text/javascript'></script>	
	<script src="{{ STATIC_URL }}js/jquery-ui-1.8.17.custom/js/jquery-ui-1.8.17.custom.min.js" type='text/javascript'></script>
	<script>
	$(function() {
		$( "#draggable" ).draggable();
		$( "#droppable" ).droppable({
			drop: function( event, ui ) {
				$( this )
					.addClass( "ui-state-highlight" )
					.find( "p" )
						.html( "Dropped!" );
			}
		});
		
		// These produce the same numbers
		$( "#droppable" ).bind( "drop", function(event, ui) {
			//var string = "Droppable Offset: top " + ui.offset.top + ", left " + ui.offset.left + ".";
			//alert(string);
			
		});
		// Tells the user if dragged into droppable
		$( "#draggable" ).bind( "dragstop", function(event, ui) {
			var $droppable = $( "#droppable" );
			var noffset = $droppable.offset();
			var w = $droppable.width();
			var h = $droppable.height();
			
			var in_draggable = false;
			var w_rel = (ui.offset.left - noffset.left)/(w);
			var h_rel = (ui.offset.top - noffset.top)/(h);
			
			if( ui.offset.left > noffset.left && ui.offset.left < (noffset.left + w)){
				if( ui.offset.top > noffset.top && ui.offset.top < (noffset.top + h)){
					in_draggable = true;
				}
			}
			
			alert("w_r=" + w_rel + ", h_r=" + h_rel + ", inside="+ in_draggable);
		});
		
	});
	</script>
	<!-- Styling -->
	<LINK href="{{ STATIC_URL }}js/jquery-ui-1.8.17.custom/css/le-frog/jquery-ui-1.8.17.custom.css" rel="stylesheet" type="text/css">
	<style>
	#draggable { width: 40px; height: 20px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; }
	#droppable { width: 500px; height: 300px; padding: 0.5em; float: left; margin: 10px 10px 10px 0;
		clear: both;
		border: 1px solid black;
	}
	.demo{
		width: 90%;
	}
	img {
		float: left;
	}
	.floatstop {
		clear: both;
	}
	</style>

</head>
<body>
	<h1>TEST PAGE</h1>

	<p class='gallery1'> Paragraph 1 </p>
	<p class='gallery2'> Paragraph 2 </p>
	<p class='gallery3'> Paragraph 3 </p>
	<p class='gallery4' id='Paragraph4'> Paragraph 4 </p>
	

	<div class="demo">
		
	<div id="draggable" class="ui-widget-content">
	</div>
	
	<div id="droppable">
		<p>Drop here</p>
	</div>
	
	</div>
	
	<img class="floatstop" src="{{ STATIC_URL }}images/Penguins.jpg" />
	
</body>